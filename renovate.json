{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended"
  ],
  "timezone": "Europe/Berlin",
  "schedule": ["before 6am every weekday"],
  "prConcurrentLimit": 3,
  "prHourlyLimit": 1,
  "commitMessagePrefix": "chore(deps): ",
  "commitMessageAction": "update",
  "commitMessageTopic": "{{depName}}",
  "commitMessageExtra": "to {{newVersion}}",
  "branchPrefix": "renovate/",
  "labels": ["dependencies", "renovate"],
  "assignees": [],
  "reviewers": [],
  "enabledManagers": ["regex"],
  "packageRules": [
    {
      "description": "Group all container image updates together",
      "matchFileNames": ["**/image.yml"],
      "groupName": "container-images",
      "addLabels": ["container-updates"]
    }
  ],
  "regexManagers": [
    {
      "description": "Update etcd version in etcd-client image.yml",
      "fileMatch": ["^etcd-client/image\\.ya?ml$"],
      "matchStrings": [
        "name:\\s*etcd-client\\s*\\nversion:\\s*(?<currentValue>\\S+)"
      ],
      "datasourceTemplate": "github-releases",
      "depNameTemplate": "etcd-io/etcd",
      "versioningTemplate": "semver",
      "extractVersionTemplate": "^v?(?<version>.*)$"
    },
    {
      "description": "Update base image versions in Containerfiles",
      "fileMatch": ["(^|/)Containerfile$"],
      "matchStrings": [
        "FROM\\s+(?<depName>ubuntu):(?<currentValue>\\S+)"
      ],
      "datasourceTemplate": "docker",
      "versioningTemplate": "docker"
    }
  ]
}